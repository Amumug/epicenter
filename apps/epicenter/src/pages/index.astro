---
import BaseLayout from '../layouts/BaseLayout.astro';
import { Button } from '@repo/ui/button';
import * as Card from '@repo/ui/card';
import { Badge } from '@repo/ui/badge';
import {
	ArrowRight as ArrowRightIcon,
	Check as CheckIcon,
	FolderOpen as FolderOpenIcon,
	GitFork as GitForkIcon,
	Shield as ShieldIcon,
	Terminal as TerminalIcon,
	HardDrive as HardDriveIcon,
	Sparkles as SparklesIcon,
	Link2 as Link2Icon,
	Code2 as Code2Icon,
	Zap as ZapIcon,
	Rocket as RocketIcon,
} from '@lucide/astro';

const userPrinciples = [
	{
		icon: HardDriveIcon,
		title: 'Own your data',
		description:
			'Everything lives as files on your disk. Delete the app, keep your work.',
	},
	{
		icon: SparklesIcon,
		title: 'Use any model',
		description: 'OpenAI, Anthropic, local LLMs. Your choice, your API key.',
	},
	{
		icon: Link2Icon,
		title: 'Preserve authenticity',
		description: 'No middleman. Direct connection to your tools and models.',
	},
];

const developerPrinciples = [
	{
		icon: Code2Icon,
		title: 'Free and open source',
		description: 'Audit the code. Fork it. Make it yours.',
	},
	{
		icon: ZapIcon,
		title: 'Blazing fast',
		description:
			'Built with Rust, Svelte 5, and obsessive performance optimization.',
	},
	{
		icon: RocketIcon,
		title: "Built on tomorrow's stack",
		description:
			'CRDTs, local-first architecture, and the bleeding edge of web tech.',
	},
];

const tools = [
	{
		emoji: 'üéôÔ∏è',
		name: 'Whispering',
		description:
			'Fast, minimal transcription that works with local and cloud models',
		features: ['Choose your model', 'No subscriptions', 'Plain text output'],
		href: 'https://github.com/epicenter-so/epicenter/tree/main/apps/whispering',
	},
	{
		emoji: 'üíª',
		name: 'epicenter.sh',
		description: 'Talk to your codebase from anywhere using your own hardware',
		features: [
			'Local OpenCode instance',
			'Secure tunneling',
			'Query from any device',
		],
		href: 'https://github.com/epicenter-so/epicenter/tree/main/apps/sh',
	},
];

const ecosystem = [
	{ name: 'Obsidian', description: 'Read and edit in your favorite tools' },
	{ name: 'grep', description: 'Search with standard Unix utilities' },
	{ name: 'Git', description: 'Version control your entire workspace' },
	{ name: 'VS Code', description: 'Edit with any text editor' },
];
---

<BaseLayout title="Epicenter - Your workspace. Your data. Your tools." description="An ecosystem of open-source, local-first apps that share a single memory. No cloud lock-in, no subscriptions, just tools that respect your data.">
  <main class="bg-background">
    <!-- Hero Section -->
    <header class="relative min-h-[90vh] flex items-center">
      <!-- Subtle gradient background -->
      <div class="absolute inset-0 bg-gradient-to-b from-primary/5 via-background to-background -z-10"></div>
      
      <div class="max-w-7xl mx-auto px-6 py-16 md:py-24">
        <div class="max-w-4xl">
          <!-- Main headline -->
          <h1 class="text-5xl md:text-7xl font-bold text-foreground mb-6 tracking-tight">
            Your workspace.<br/>
            Your data.<br/>
            Your tools.
          </h1>
          
          <!-- Subheadline -->
          <p class="text-xl md:text-2xl text-muted-foreground mb-8 max-w-2xl">
            An ecosystem of open-source, local-first apps that share a single memory. 
            No cloud lock-in, no subscriptions, just tools that respect your data.
          </p>
          
          <!-- CTAs -->
          <div class="flex flex-col sm:flex-row gap-4">
            <Button href="https://go.epicenter.so/discord" size="lg" class="font-medium">
              Join the community
              <ArrowRightIcon class="w-4 h-4" />
            </Button>
            <Button href="https://github.com/epicenter-so/epicenter" variant="outline" size="lg" class="font-medium">
              Explore on GitHub
            </Button>
          </div>
          
          <!-- Quick value props -->
          <div class="mt-12 flex flex-wrap gap-6 text-sm text-muted-foreground">
            <div class="flex items-center gap-2">
              <CheckIcon class="w-4 h-4 text-success" />
              <span>100% open source</span>
            </div>
            <div class="flex items-center gap-2">
              <CheckIcon class="w-4 h-4 text-success" />
              <span>Local-first</span>
            </div>
            <div class="flex items-center gap-2">
              <CheckIcon class="w-4 h-4 text-success" />
              <span>Plain text & SQLite</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Core Principles -->
    <section class="py-20 md:py-32">
      <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-4xl font-bold text-foreground mb-4">
            Built on principles that matter
          </h2>
          <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
            We believe your tools should amplify your thinking, not fragment it.
          </p>
        </div>
        
        <div class="grid lg:grid-cols-2 gap-12">
          <!-- User Principles -->
          <div>
            <h3 class="text-sm font-medium text-muted-foreground mb-6">For you</h3>
            <div class="space-y-6">
              {userPrinciples.map((principle) => (
                <div class="flex items-start gap-4">
                  <div class="p-2 rounded-lg bg-primary/10 text-primary">
                    <principle.icon class="w-5 h-5" />
                  </div>
                  <div>
                    <h4 class="font-semibold text-lg mb-1">{principle.title}</h4>
                    <p class="text-muted-foreground">{principle.description}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
          
          <!-- Developer Principles -->
          <div>
            <h3 class="text-sm font-medium text-muted-foreground mb-6">For developers</h3>
            <div class="space-y-6">
              {developerPrinciples.map((principle) => (
                <div class="flex items-start gap-4">
                  <div class="p-2 rounded-lg bg-primary/10 text-primary">
                    <principle.icon class="w-5 h-5" />
                  </div>
                  <div>
                    <h4 class="font-semibold text-lg mb-1">{principle.title}</h4>
                    <p class="text-muted-foreground">{principle.description}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Product Showcase -->
    <section class="py-20 md:py-32 bg-muted/30">
      <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-16">
          <Badge variant="secondary" class="mb-4">Available now</Badge>
          <h2 class="text-3xl md:text-4xl font-bold text-foreground mb-4">
            Tools that share your memory
          </h2>
          <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
            Each app reads and writes to the same local folder. Your transcriptions become searchable notes. 
            Your notes inform your AI assistant. Everything connects.
          </p>
        </div>
        
        <div class="grid lg:grid-cols-2 gap-8">
          {tools.map((tool) => (
            <Card.Root class="overflow-hidden hover:shadow-lg transition-shadow">
              <Card.Header>
                <div class="flex items-start justify-between">
                  <div class="flex items-center gap-3">
                    <span class="text-4xl">{tool.emoji}</span>
                    <div>
                      <Card.Title class="text-2xl">{tool.name}</Card.Title>
                      <Card.Description class="mt-1">{tool.description}</Card.Description>
                    </div>
                  </div>
                </div>
              </Card.Header>
              <Card.Content>
                <ul class="space-y-2">
                  {tool.features.map((feature) => (
                    <li class="flex items-center gap-2 text-sm text-muted-foreground">
                      <CheckIcon class="w-4 h-4 text-success flex-shrink-0" />
                      <span>{feature}</span>
                    </li>
                  ))}
                </ul>
              </Card.Content>
              <Card.Footer>
                <Button href={tool.href} variant="outline" class="w-full">
                  View on GitHub
                  <ArrowRightIcon class="w-4 h-4" />
                </Button>
              </Card.Footer>
            </Card.Root>
          ))}
        </div>
        
        <div class="mt-12 text-center">
          <p class="text-muted-foreground mb-4">More tools coming soon</p>
          <Button href="https://go.epicenter.so/discord" variant="secondary">
            Get early access
          </Button>
        </div>
      </div>
    </section>

    <!-- Ecosystem -->
    <section class="py-20 md:py-32">
      <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-4xl font-bold text-foreground mb-4">
            Works with tools you already use
          </h2>
          <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
            Because everything is plain text and SQLite, your entire workspace is compatible with existing tools.
          </p>
        </div>
        
        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
          {ecosystem.map((tool) => (
            <div class="p-6 rounded-lg border bg-background/50 backdrop-blur">
              <div class="flex items-center gap-3 mb-2">
                <TerminalIcon class="w-5 h-5 text-muted-foreground" />
                <h3 class="font-semibold">{tool.name}</h3>
              </div>
              <p class="text-sm text-muted-foreground">{tool.description}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Vision -->
    <section class="py-20 md:py-32 bg-muted/30">
      <div class="max-w-4xl mx-auto px-6 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-foreground mb-8">
          Software for people who think
        </h2>
        <div class="prose prose-lg prose-zinc dark:prose-invert mx-auto">
          <p class="text-muted-foreground">
            We're building an alternative to apps that fragment your thinking across a dozen cloud services. 
            Epicenter is for people who read deeply, write to think, and build to understand.
          </p>
          <p class="text-muted-foreground">
            Every tool is open source. Your data stays in plain files you control. 
            Choose your own models, host your own services, or run everything locally.
          </p>
          <p class="text-foreground font-medium mt-8">
            Join us in building tools that amplify human agency.
          </p>
        </div>
        
        <div class="mt-12 flex flex-col sm:flex-row gap-4 justify-center">
          <Button href="https://go.epicenter.so/discord" size="lg">
            Join our Discord
            <ArrowRightIcon class="w-4 h-4" />
          </Button>
          <Button href="https://github.com/epicenter-so/epicenter" variant="outline" size="lg">
            Contribute on GitHub
          </Button>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 border-t">
      <div class="max-w-7xl mx-auto px-6">
        <div class="flex flex-col md:flex-row justify-between items-center gap-4">
          <div class="text-sm text-muted-foreground">
            ¬© {new Date().getFullYear()} Epicenter. Open source under MIT license.
          </div>
          <div class="flex gap-6 text-sm">
            <a href="https://github.com/epicenter-so/epicenter" class="text-muted-foreground hover:text-foreground transition-colors">
              GitHub
            </a>
            <a href="https://go.epicenter.so/discord" class="text-muted-foreground hover:text-foreground transition-colors">
              Discord
            </a>
            <a href="/blog" class="text-muted-foreground hover:text-foreground transition-colors">
              Blog
            </a>
          </div>
        </div>
      </div>
    </footer>
  </main>
</BaseLayout>

<style>
  /* Smooth animations */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  header > div > div > * {
    animation: fade-in 0.6s ease-out forwards;
    opacity: 0;
  }

  header h1 { animation-delay: 0ms; }
  header p { animation-delay: 150ms; }
  header > div > div > div:nth-of-type(1) { animation-delay: 300ms; }
  header > div > div > div:nth-of-type(2) { animation-delay: 450ms; }

  /* Success color for checkmarks */
  .text-success {
    color: #10b981;
  }
</style>